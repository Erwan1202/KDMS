---
import { Image } from "astro:assets";
import logoWhite from "/src/assets/common/logo-white.png";

const navigationLinks = [
    { label: "Accueil", href: "/" },
    { label: "Savoir-faire", href: "/savoir-faire" },
    { label: "Nos réalisations", href: "/#realisations" },
    { label: "Contact", href: "/contact" },
];

const contactInfo = [
    {
        lines: ["8 Rue Camille Décauville", "91250 Tigery", "France"],
        type: "text",
    },
    {
        label: "01 69 12 72 10",
        href: "tel:+33169127210",
        type: "link",
    },
    {
        label: "contact@k-dms.co",
        href: "mailto:contact@k-dms.co",
        type: "link",
    },
];

const legalLinks = [
    { label: "Mentions Légales", href: "/mentions-legales" },
    { label: "Politique de confidentialité", href: "/rgpd" },
];
---

<footer class="bg-[#161616] text-white py-10 md:py-14 relative overflow-hidden">
    <div class="relative max-w-7xl mx-auto px-6 md:px-8 z-10">
        <div
            class="grid grid-cols-1 md:grid-cols-12 gap-10 md:gap-12 lg:gap-16"
        >
            <div class="col-span-1 md:col-span-4 flex flex-col gap-6">
                <a href="/" class="inline-block w-fit">
                    <Image
                        src={logoWhite}
                        alt="KDMS"
                        height={72}
                        class="h-[72px] w-auto transition-transform hover:scale-105"
                    />
                </a>
                <p
                    class="text-[#B3B3B3] font-light leading-relaxed max-w-sm text-base"
                >
                    Experts dans la conception et fabrication de flight cases
                    sur mesure. Protection optimale pour votre matériel, adaptée
                    à vos besoins spécifiques.
                </p>
            </div>

            <div class="col-span-1 md:col-span-3">
                <h3 class="footer-title">Navigation</h3>
                <div class="flex flex-col gap-4">
                    {
                        navigationLinks.map((link) => (
                            <a href={link.href} class="footer-link">
                                {link.label}
                            </a>
                        ))
                    }
                </div>
            </div>

            <div class="col-span-1 md:col-span-3">
                <h3 class="footer-title">Contact</h3>
                <div class="flex flex-col gap-5">
                    {
                        contactInfo.map((item) => (
                            <div>
                                {item.type === "text" ? (
                                    <span class="text-[#B3B3B3] font-light leading-relaxed">
                                        {item.lines?.map((line, index) => (
                                            <>
                                                {line}
                                                {index <
                                                    (item.lines?.length || 0) -
                                                        1 && <br />}
                                            </>
                                        ))}
                                    </span>
                                ) : (
                                    <a href={item.href} class="footer-link">
                                        {item.label}
                                    </a>
                                )}
                            </div>
                        ))
                    }
                </div>
            </div>

            <div class="col-span-1 md:col-span-2">
                <h3 class="footer-title">Infos</h3>
                <div class="flex flex-col gap-4">
                    {
                        legalLinks.map((link) => (
                            <a href={link.href} class="footer-link">
                                {link.label}
                            </a>
                        ))
                    }
                </div>
            </div>
        </div>

        <div class="footer-bottom mt-10 pt-6 text-center">
            <p>
                &copy; {new Date().getFullYear()} KDMS. Tous droits réservés.
            </p>
        </div>
    </div>
</footer>

<style>
    .footer-title {
        color: #e6e6e6;
        font-size: 1.125rem;
        font-weight: 600;
        letter-spacing: 0.5px;
        margin-bottom: 1.5rem;
    }

    .footer-link {
        color: #b3b3b3;
        font-weight: 300;
        transition: color 0.2s ease;
        text-decoration: none;
        width: fit-content;
    }

    .footer-link:hover {
        color: #b85c00;
    }

    .footer-bottom {
        border-top: 1px solid rgba(255, 255, 255, 0.08);
        color: #a3a3a3;
        font-size: 0.875rem;
        font-weight: 300;
    }
</style>
