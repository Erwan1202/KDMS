---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/common/Navbar.astro";
import Footer from "../components/common/Footer.astro";
---

<Layout title="Contact - KDMS">
    <Navbar theme="dark" />

    <main class="bg-black text-white min-h-screen pt-24 md:pt-32 pb-12">
        <section class="max-w-7xl mx-auto px-6 md:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24">
                <div class="flex flex-col justify-start">
                    <h1
                        class="animate-title opacity-0 text-4xl md:text-6xl font-bold mb-8 tracking-tight"
                    >
                        Contactez-nous
                    </h1>
                    <p
                        class="animate-text opacity-0 text-white/70 text-lg md:text-xl font-light mb-12 max-w-lg"
                    >
                        Un projet spécifique ? Une demande de devis ? N'hésitez
                        pas à nous contacter, nous vous répondrons dans les plus
                        brefs délais.
                    </p>

                    <div
                        class="flex items-center gap-6 mb-12 animate-director opacity-0"
                    >
                        <div
                            class="w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-2 border-[#525946] shadow-lg flex-shrink-0 bg-white/5"
                        >
                            <div
                                class="w-full h-full bg-gray-600 animate-pulse flex items-center justify-center text-white/20"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="48"
                                    height="48"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="1"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                                    ></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                            </div>
                        </div>
                        <div>
                            <span
                                class="text-[#6b755a] font-bold text-sm tracking-widest uppercase mb-1 block"
                                >Votre interlocuteur</span
                            >
                            <h3 class="text-3xl font-bold text-white mb-1">
                                Régis Kozak
                            </h3>
                            <p class="text-white/60 font-light text-lg">
                                Dirigeant
                            </p>
                        </div>
                    </div>

                    <div class="space-y-8 animate-info opacity-0">
                        <div class="group">
                            <h3 class="text-xl font-bold mb-2">Adresse</h3>
                            <p
                                class="text-white/70 font-light group-hover:text-white transition-colors"
                            >
                                8 Rue Camille Décauville<br />
                                91250 Tigery<br />
                                France
                            </p>
                        </div>

                        <div class="group">
                            <h3 class="text-xl font-bold mb-2">Téléphone</h3>
                            <a
                                href="tel:+33650003101"
                                class="text-white/70 font-light hover:text-white transition-colors text-lg"
                            >
                                +33 6 50 00 31 01
                            </a>
                        </div>

                        <div class="group">
                            <h3 class="text-xl font-bold mb-2">Email</h3>
                            <a
                                href="mailto:regis.kozak@k-dms.co"
                                class="text-white/70 font-light hover:text-white transition-colors text-lg"
                            >
                                regis.kozak@k-dms.co
                            </a>
                        </div>
                    </div>
                </div>

                <div
                    class="bg-white/5 p-6 md:p-8 rounded-2xl border border-white/10 animate-form opacity-0 h-fit"
                >
                    <form class="flex flex-col gap-5">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div class="relative group">
                                <input
                                    type="text"
                                    id="firstname"
                                    name="firstname"
                                    class="peer w-full bg-transparent border-b border-white/20 py-2 text-white placeholder-transparent focus:border-[#6b755a] focus:outline-none transition-colors"
                                    placeholder="Prénom"
                                    required
                                />
                                <label
                                    for="firstname"
                                    class="absolute left-0 -top-2.5 text-xs text-white/50 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-2 peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-[#6b755a]"
                                >
                                    Prénom
                                </label>
                            </div>
                            <div class="relative group">
                                <input
                                    type="text"
                                    id="lastname"
                                    name="lastname"
                                    class="peer w-full bg-transparent border-b border-white/20 py-2 text-white placeholder-transparent focus:border-[#6b755a] focus:outline-none transition-colors"
                                    placeholder="Nom"
                                    required
                                />
                                <label
                                    for="lastname"
                                    class="absolute left-0 -top-2.5 text-xs text-white/50 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-2 peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-[#6b755a]"
                                >
                                    Nom
                                </label>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div class="relative group">
                                <input
                                    type="email"
                                    id="email"
                                    name="email"
                                    class="peer w-full bg-transparent border-b border-white/20 py-2 text-white placeholder-transparent focus:border-[#6b755a] focus:outline-none transition-colors"
                                    placeholder="Email"
                                    required
                                />
                                <label
                                    for="email"
                                    class="absolute left-0 -top-2.5 text-xs text-white/50 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-2 peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-[#6b755a]"
                                >
                                    Email
                                </label>
                            </div>
                            <div class="relative group">
                                <input
                                    type="tel"
                                    id="phone"
                                    name="phone"
                                    class="peer w-full bg-transparent border-b border-white/20 py-2 text-white placeholder-transparent focus:border-[#6b755a] focus:outline-none transition-colors"
                                    placeholder="Téléphone"
                                />
                                <label
                                    for="phone"
                                    class="absolute left-0 -top-2.5 text-xs text-white/50 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-2 peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-[#6b755a]"
                                >
                                    Téléphone
                                </label>
                            </div>
                        </div>

                        <div class="relative group">
                            <textarea
                                id="message"
                                name="message"
                                rows="3"
                                class="peer w-full bg-transparent border-b border-white/20 py-2 text-white placeholder-transparent focus:border-[#6b755a] focus:outline-none transition-colors resize-none"
                                placeholder="Message"
                                required></textarea>
                            <label
                                for="message"
                                class="absolute left-0 -top-2.5 text-xs text-white/50 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-2 peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-[#6b755a]"
                            >
                                Message
                            </label>
                        </div>

                        <button
                            type="submit"
                            class="mt-2 w-full group relative inline-flex items-center justify-center px-8 py-3 overflow-hidden rounded-full bg-[#525946] border border-[#6b755a] shadow-[0_6px_20px_rgba(82,89,70,0.3)] transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_8px_30px_rgba(82,89,70,0.5)]"
                        >
                            <span
                                class="relative text-white font-bold text-lg tracking-wider"
                            >
                                Envoyer le message
                            </span>
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <section
            class="max-w-7xl mx-auto px-6 md:px-8 mt-24 animate-map opacity-0"
        >
            <div
                class="w-full h-96 rounded-2xl overflow-hidden border border-white/10 shadow-lg"
            >
                <iframe
                    width="100%"
                    height="100%"
                    style="border:0;"
                    loading="lazy"
                    allowfullscreen
                    referrerpolicy="no-referrer-when-downgrade"
                    src="https://maps.google.com/maps?q=8+Rue+Camille+D%C3%A9cauville,+91250+Tigery&t=&z=15&ie=UTF8&iwloc=&output=embed"
                ></iframe>
            </div>
        </section>
    </main>
    <Footer />
</Layout>

<script>
    import { gsap } from "gsap";

    const timeline = gsap.timeline({ defaults: { ease: "power3.out" } });

    timeline
        .fromTo(
            ".animate-title",
            { y: 50, opacity: 0 },
            { y: 0, opacity: 1, duration: 1 },
            0.2,
        )
        .fromTo(
            ".animate-text",
            { y: 30, opacity: 0 },
            { y: 0, opacity: 1, duration: 0.8 },
            "-=0.6",
        )
        .fromTo(
            ".animate-director",
            { x: -30, opacity: 0 },
            { x: 0, opacity: 1, duration: 0.8 },
            "-=0.6",
        )
        .fromTo(
            ".animate-info",
            { x: -30, opacity: 0 },
            { x: 0, opacity: 1, duration: 0.8 },
            "-=0.6",
        )
        .fromTo(
            ".animate-form",
            { x: 30, opacity: 0 },
            { x: 0, opacity: 1, duration: 0.8 },
            "-=0.8",
        )
        .fromTo(
            ".animate-map",
            { y: 30, opacity: 0 },
            { y: 0, opacity: 1, duration: 0.8 },
            "-=0.6",
        );
</script>

<style>
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    textarea:-webkit-autofill,
    textarea:-webkit-autofill:hover,
    textarea:-webkit-autofill:focus {
        -webkit-text-fill-color: white;
        -webkit-box-shadow: 0 0 0px 1000px #000 inset;
        transition: background-color 5000s ease-in-out 0s;
    }
</style>
